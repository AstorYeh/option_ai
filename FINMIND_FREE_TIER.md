# FinMind 免費版使用注意事項

## 📊 免費版限制

根據您提供的截圖,FinMind 免費版有以下限制:

### API 限制
- **API/下載限制**: 300 次/小時
- **註冊會員提升至**: 600 次/小時
- **資料集**: 44 種資料集

### 技術面資料
- 台股總覽
- 台股總覽(含權證)
- 台灣股價資料表
- 台股交易日
- 台灣類股票價
- 個股 PER、PBR 資料表
- 每 5 秒委託或交易資訊
- 台股加權指數
- 查日沖淨交易額的及成交量
- 加權、櫃買指數指數

### 籌碼面資料
- 個股融資融券表
- 整體市場融資融券表
- 個股三大法人買賣表
- 整體三大法人買賣表
- 外資持股表
- 借券成交明細
- 暫停融券出借(最多回傳日)
- 信用額度總表
- 融券借券表

### 基本面資料
- 現金流量表
- 綜合損益表
- 資產負債表
- 股利政策表
- 除權除息結果表
- 月營收表
- 減資恢復買賣參考價
- 台股分紅後參考價
- 台股分割後參考價
- 台灣股票歷史股價與股利價值表

### 衍生性金融商品
- 期貨、選擇權日成交資訊總覽
- 期貨、選擇權日時段資訊總覽
- 期貨日成交資訊
- 選擇權日成交資訊
- 期貨三大法人買賣
- 選擇權三大法人買賣
- 期貨各商品每日交易
- 選擇權各商品每日交易

### 其他
- 相關新聞
- 黃金價格表
- 原油資料表(Brent, WTI)
- 美股股價
- 外幣對台幣資訊表(19 種貨幣)
- 央行利率資料表(12 個國家)
- 美國國債表(1月~30年期, 12種年份)

## ⚠️ 使用建議

### 1. 控制 API 請求頻率

由於免費版限制為 **300 次/小時**,建議:

- **每日更新一次**: 收盤後執行 `daily_update.py`
- **避免頻繁測試**: 開發時使用已下載的資料
- **分批下載**: 下載歷史資料時分多天進行

### 2. 優化資料下載策略

```bash
# 建議的下載策略
# 第一天: 下載最近 30 天
python scripts\daily_update.py --initial --days 30

# 第二天: 下載 31-60 天
# 手動修改日期範圍

# 第三天: 下載 61-90 天
# 依此類推
```

### 3. 監控 API 使用量

系統已在 `src/data/finmind_client.py` 中加入:
- 請求延遲 (1 秒)
- 重試機制
- 錯誤處理

### 4. 選擇權資料下載建議

選擇權資料量大,建議:
- **只下載近期資料**: 最近 7-14 天即可
- **避免下載過多日期**: 每天約 7000+ 筆資料
- **分批下載**: 使用較小的日期範圍

```bash
# 建議: 只下載最近 7 天選擇權資料
python scripts\daily_update.py --initial --days 7
```

## 📝 API 使用量估算

### 單次完整更新 (1 天資料)
- 台指期資料: 1 次 API 請求
- 選擇權資料: 1 次 API 請求
- 法人留倉: 1 次 API 請求
- **總計**: 約 3 次 API 請求/天

### 初始化下載 (30 天)
- 台指期: 1 次 (批次查詢)
- 選擇權: 30 次 (每天一次)
- 法人留倉: 1 次 (批次查詢)
- **總計**: 約 32 次 API 請求

**結論**: 免費版 300 次/小時的限制對日常使用綽綽有餘!

## 🎯 最佳實踐

### 每日操作流程

1. **收盤後更新** (約 15:30)
   ```bash
   python scripts\daily_update.py
   ```
   - 消耗: 約 3 次 API 請求
   - 時間: 約 10 秒

2. **查看預測** (使用已下載資料)
   ```bash
   streamlit run streamlit_app\Home.py
   ```
   - 消耗: 0 次 API 請求 (使用本地資料庫)

3. **週末補充歷史資料** (選填)
   ```bash
   python scripts\daily_update.py --initial --days 7
   ```
   - 消耗: 約 10 次 API 請求

### 開發測試建議

- 使用已下載的資料進行測試
- 避免重複執行 `daily_update.py`
- 使用 `--days` 參數控制下載範圍

## ✅ 目前狀態

您已成功下載:
- ✅ 90 天台指期資料 (1566 筆)
- ✅ 30 天選擇權資料 (約 200,000+ 筆)

這些資料足夠進行:
- 技術指標分析
- AI 模型訓練
- 回測驗證
- 策略開發

## 🔄 升級選項

如果未來需要更多 API 請求,可考慮:
- **註冊會員**: 提升至 600 次/小時
- **付費方案**: 更高的請求限制與更多資料集

但對於個人研究與學習,**免費版已完全足夠**!
